---

# File: `.github/workflows/enrich.yml`
```yaml
name: Enrich and Verify (Stop at target)

on:
  workflow_dispatch:
    inputs:
      target:
        description: 'Number of verified emails to stop at'
        required: false
        default: '10000'
      concurrency:
        description: 'HTTP concurrency for scraper'
        required: false
        default: '80'

jobs:
  enrich:
    runs-on: ubuntu-latest
    timeout-minutes: 240  # 4 hours
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: Install deps
        run: |
          python -m pip install --upgrade pip
          pip install -r scripts/requirements.txt

      - name: Run enrichment (reads filtered_companies.csv from repo root)
        env:
          TARGET: ${{ github.event.inputs.target }}
          CONCURRENCY: ${{ github.event.inputs.concurrency }}
        run: |
          python3 scripts/enrich.py --input filtered_companies.csv --output enriched_verified.csv --target ${TARGET} --concurrency ${CONCURRENCY} --http-timeout 8 --mx-timeout 4

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: enriched-verified
          path: enriched_verified.csv
